<!-- Applying States on a note in React  -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script crossorigin src="https://unpkg.com/react@16/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script>
</head>
<body>
    <div id="state-note-container"></div>
</body>

<script type="text/babel">

class MyStatesNote extends React.Component {

    constructor(props){
        super(props);
        this.state = { editing: false}
    }

    edit = () => {
        this.setState({editing:true})
    }

    save = () => {
        var val = this.refs.newText.value
        alert("The value is " + val)
        this.setState({editing:false})
    }

    delete = () => {
        alert('Deleting')
    }

    renderForm = () => {
        return (
            <div className="note">
                <textarea ref="newText"></textarea>
                <button onClick={this.save}>Save</button>
            </div>
        )
    }

    renderDisplay = () => {
        return (
            <div className="note">
                <p>{this.props.children}</p>
                <span>
                    <button onClick={this.edit}> Edit </button> 
                    <button onClick={this.delete}> Delete </button>
                </span>
            </div>
        )
    }


    render() {
        if (this.state.editing) {
            return this.renderForm()
        }else{
            return this.renderDisplay()
        }
    }
}

    ReactDOM.render(<MyStatesNote>Hello Notes</MyStatesNote>, 
                    document.getElementById("state-note-container"))
</script>
</html> 